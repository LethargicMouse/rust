extern strcmp;
extern system;
extern puts;
extern exit;

fn main(argc, argv) {
    if argc < 2
      do die(r"! error reading args: expected command");
    if strcmp(argv[1], r"clean") == 0
      do clean()
    else puts(r"! error reading args: unexpected command");
  }

fn clean()
  do system(r"rm out.qbe out.s out")

fn die(e) {
    puts(e);
    exit(1)
  }
